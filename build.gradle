group 'com.thoughtworks'
version '1.0-SNAPSHOT'

apply plugin: 'java'

repositories {
    mavenCentral()
}

sourceSets {
    main.java.srcDir('src/custom/java')
}

dependencies {
    compile "com.github.lalyos:jfiglet:0.0.7"
}

// ./gradlew clean && ./gradlew build
// java -jar build/libs/GradleTutorial-1.0-SNAPSHOT.jar Hello Gradle
jar {
    from configurations.compile.collect {zipTree it}
    manifest.attributes("Main-Class": 'Main')
}

task printNames(group: "Gradle Tutorial", description: "Print project and task names") {
    doFirst { println "Project name is [$project.name]" }

    doLast { println "Task name is [$name]" }
}

task customTask(group: 'Custom') {
    // configuration phase
    println "--- configuration phase ---"

    // execution phase
    doLast { println "--- 1st inside doLast ---" }

    doFirst { println "--- 1st inside doFirst ---" }

    doLast { println "--- 2nd inside doLast ---" }

    doFirst { println "--- 2nd inside doFirst ---" }
}

customTask << { println "--- 1st outside doLast ---" }

customTask.doLast { println "--- 2nd outside doLast ---" }

task hello {
    ext {
        greeting = "How are you?"
    }

    doLast {
        println "Greeting: $greeting"
    }
}

